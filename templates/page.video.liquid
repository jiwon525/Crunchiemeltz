{% comment %}
Video Page Template
Displays the video selected from the carousel using ?vid=BLOCK_ID
{% endcomment %}

{% assign vid = request.params.vid %}

<div class="video-page-container">
  {% if vid %}
    {% assign found_video = false %}

    {% section 'video-carousel-new-tab' %} {# Provides access to blocks #}

    {% for block in section.blocks %}
      {% if block.id == vid %}
        <div class="video-wrapper">
          <video width="800" height="450" controls autoplay>
            <source src="{{ block.settings.video_url }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
        {% assign found_video = true %}
      {% endif %}
    {% endfor %}

    {% unless found_video %}
      <p class="no-video">Video not found.</p>
    {% endunless %}

  {% else %}
    <p class="no-video">No video selected. Please go back to the <a href="{{ routes.root_url }}">homepage</a>.</p>
  {% endif %}
</div>

<style>
.video-page-container {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  padding: 50px 20px;
}
.video-wrapper video {
  max-width: 100%;
  height: auto;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
}
.no-video {
  font-size: 18px;
  color: #555;
  margin-top: 50px;
  text-align: center;
}
</style>
